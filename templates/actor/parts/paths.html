<section class="paths-section">
    <!-- Character Level -->
    <div class="character-level">
        <div class="form-group">
            <label>Character Level</label>
            <input type="number" name="system.level" value="{{system.level}}" data-dtype="Number" class="level-input" />
        </div>
        <div class="form-group">
            <label>Experience</label>
            <input type="number" name="system.experience" value="{{system.experience}}" data-dtype="Number" />
        </div>
        <div class="level-buttons">
            <button type="button" class="level-up-btn">Level Up</button>
            <button type="button" class="experience-check-btn">Check Experience</button>
        </div>
    </div>

    <!-- Paths Info -->
    <div class="paths-info">
        <h3>Path & Tier Progression</h3>
        <div class="paths-progression">
            <div class="form-group">
                <label>
                    <input type="checkbox" name="system.isMonster" {{#if system.isMonster}} checked{{/if}} />
                    Is a Monster
                </label>
            </div>
            <div class="form-group">
                <label>Number of Paths</label>
                <input type="number" name="system.pathsAllowed" value="{{system.pathsAllowed}}" data-dtype="Number" readonly />
            </div>
            <div class="form-group">
                <label>Maximum Tier</label>
                <input type="number" name="system.maxTier" value="{{system.maxTier}}" data-dtype="Number" readonly />
            </div>
        </div>
    </div>


    <!-- Paths -->
    <div class="paths">
        <h2>
            Paths
            <a class="item-create" title="Add Path" data-type="path"><i class="fas fa-plus"></i></a>
            <a class="path-browse" title="Browse Paths"><i class="fas fa-search"></i></a>
        </h2>

        {{#each actor.paths as |path id|}}
        <div class="path-item" data-item-id="{{path._id}}">
            <div class="path-header flexrow">
                <h3 class="path-name">{{path.name}} <span class="path-tier">(Tier {{path.system.tier}})</span></h3>
                <div class="path-controls">
                    <a class="item-edit" title="Edit Path"><i class="fas fa-edit"></i></a>
                    <a class="item-delete" title="Delete Path"><i class="fas fa-trash"></i></a>
                </div>
            </div>

            <div class="path-details">
                <div class="path-info">
                    <div class="path-baseHP">
                        <label>Base HP:</label>
                        <span>{{path.system.baseHP}}</span>
                    </div>
                    <div class="path-abilities">
                        <label>Path Abilities:</label>
                        <div class="path-ability-list">
                            {{#each path.system.abilities as |ability|}}
                            <div class="path-ability">
                                <strong>{{ability.name}}:</strong> {{ability.description}}
                            </div>
                            {{/each}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {{/each}}
    </div>

    <!-- Talents Counter -->
    <div class="talents-counter">
        <h3>Talents</h3>
        <div class="talent-numbers">
            <div class="form-group">
                <label>From Level</label>
                <input type="number" name="system.talentsFromLevel" value="{{system.talentsFromLevel}}" data-dtype="Number" readonly />
            </div>
            <div class="form-group">
                <label>Bonus</label>
                <input type="number" name="system.talentsBonus" value="{{system.talentsBonus}}" data-dtype="Number" />
            </div>
            <div class="form-group">
                <label>Total</label>
                <input type="number" name="system.talentsTotal" value="{{system.talentsTotal}}" data-dtype="Number" readonly />
            </div>
        </div>
    </div>


    <!-- Talents -->
    <div class="talents">
        <h2>
            Talents
            <a class="item-create" title="Add Talent" data-type="talent"><i class="fas fa-plus"></i></a>
            <a class="talent-browse" title="Browse Talents"><i class="fas fa-search"></i></a>
        </h2>

        <div class="talents-list">
            {{#each actor.talents as |talent id|}}
            <div class="talent-item" data-item-id="{{talent._id}}">
                <input type="checkbox" id="toggle-talent-{{talent._id}}" class="talent-checkbox">
                <div class="talent-header">
                    <label for="toggle-talent-{{talent._id}}" class="talent-name-container">
                        <div class="talent-name">{{talent.name}}</div>
                        <i class="fas fa-chevron-down talent-toggle-icon"></i>
                    </label>
                    <div class="talent-controls">
                        <a class="item-edit" title="Edit Talent"><i class="fas fa-edit"></i></a>
                        <a class="item-delete" title="Delete Talent"><i class="fas fa-trash"></i></a>
                    </div>
                </div>
                <div class="talent-description">
                    <p>{{talent.system.description}}</p>
                    {{#if talent.system.usesPerDay}}
                    <p><strong>Uses per Day:</strong> {{talent.system.usesPerDay}}</p>
                    {{/if}}
                    {{#if talent.system.prerequisites}}
                    <p><strong>Prerequisites:</strong> {{talent.system.prerequisites}}</p>
                    {{/if}}
                </div>
            </div>
            {{/each}}
        </div>
    </div>

    <!-- Traits Section -->
    <div class="traits-section">
        <div class="section-header">
            <h3>Traits</h3>
            <div class="controls">
                <a class="trait-browse" title="Browse Traits"><i class="fas fa-search"></i></a>
            </div>
        </div>

        <ol class="items-list traits-list">
            {{#each actor.traits as |trait id|}}
            <li class="item trait-item" data-item-id="{{trait._id}}">
                <div class="item-name">{{trait.name}}</div>
                <div class="item-type">{{trait.system.talentType}}</div>
                <div class="item-controls">
                    <a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
                    <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                </div>
            </li>
            {{else}}
            <li class="item trait-item">
                <div class="item-name">No traits</div>
            </li>
            {{/each}}
        </ol>
    </div>
</section>